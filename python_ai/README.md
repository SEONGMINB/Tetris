# 테트리스 Python AI 플레이어

이 프로젝트는 웹 브라우저의 테트리스 게임을 Python AI가 자동으로 플레이하도록 하는 시스템입니다.

## 🚀 설치 및 실행

### 1. 필요한 패키지 설치
```bash
cd python_ai
pip install -r requirements.txt
```

### 2. 테트리스 게임 실행
먼저 Next.js 테트리스 게임을 실행해야 합니다:
```bash
# 테트리스 프로젝트 루트에서
npm run dev
```

### 3. Python AI 실행

#### 기본 AI (랜덤 전략)
```bash
python tetris_player.py
```

#### 고급 AI (휴리스틱 전략)
```bash
python advanced_tetris_ai.py
```

## 🎯 AI 기능

### 기본 AI (`tetris_player.py`)
- 웹 브라우저 자동 제어
- 게임 상태 실시간 읽기
- 랜덤 액션 기반 플레이
- 게임 오버 감지 및 재시작

### 고급 AI (`advanced_tetris_ai.py`)
- 향상된 휴리스틱 전략
- 보드 평가 함수 (높이, 구멍, 완성 라인 등)
- 스마트한 액션 선택
- 상황 인식 기반 플레이

## 🔧 설정 옵션

### AI 플레이 시간 조정
```python
ai.play(duration=60)  # 60초간 플레이
ai.play_smart(duration=300)  # 5분간 스마트 플레이
```

### 게임 URL 변경
```python
ai = TetrisAI(url="http://localhost:3000")  # 로컬
ai = TetrisAI(url="https://your-tetris-domain.com")  # 원격
```

### 액션 속도 조절
```python
time.sleep(0.2)  # 빠른 플레이
time.sleep(0.5)  # 느린 플레이
```

## 📊 AI 전략 설명

### 휴리스틱 평가 요소
1. **전체 높이**: 블록이 낮을수록 좋음
2. **구멍 개수**: 구멍이 적을수록 좋음  
3. **높이 차이**: 열 간 높이 차이가 적을수록 좋음
4. **완성 라인**: 완성 가능한 라인이 많을수록 좋음
5. **깊은 구멍**: 접근하기 어려운 구멍은 피함

### 가중치 (조정 가능)
- 높이: -0.510066
- 구멍: -0.760666  
- 높이 차이: -0.35663
- 완성 라인: +0.818
- 깊은 구멍: -1.2

## 🎮 사용법

1. **테트리스 게임 실행**: `npm run dev`로 웹 게임 시작
2. **AI 실행**: Python 스크립트 실행
3. **관찰**: 브라우저에서 AI가 자동으로 플레이하는 모습 확인
4. **중단**: `Ctrl+C`로 AI 중단

## 🔍 디버깅

게임 상태가 제대로 읽히지 않는 경우:
1. 브라우저가 완전히 로드되었는지 확인
2. CSS 클래스명이 일치하는지 확인
3. `time.sleep()` 값을 늘려서 로딩 시간 확보

## 🚀 확장 가능성

- 강화학습 (DQN, PPO) 통합
- 더 정교한 휴리스틱 개발
- 멀티 게임 동시 플레이
- 실시간 학습 및 개선 